@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #f6f6f6;
}

body { @apply bg-[var(--bg)] text-zinc-900; }

.container { @apply max-w-6xl mx-auto px-4; }
.card { @apply bg-white rounded-2xl shadow-sm p-4 md:p-6; }
.btn { @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 font-medium transition; }
.btn-primary { @apply bg-zinc-900 text-white hover:bg-zinc-800; }
.btn-danger { @apply bg-red-600 text-white hover:bg-red-700; }
.input { @apply w-full rounded-xl border border-zinc-200 px-3 py-2 outline-none focus:ring-2 focus:ring-zinc-300; }
.label { @apply text-sm font-medium text-zinc-700; }
.table { @apply w-full text-sm; }
.th, .td { @apply px-3 py-2 text-left; }
.tr { @apply border-t border-zinc-100; }
.badge { @apply inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold; }
.badge-green { @apply bg-emerald-100 text-emerald-800; }
.badge-gray { @apply bg-zinc-100 text-zinc-800; }
.navlink { @apply text-sm text-zinc-600 hover:text-zinc-900; }

/* Make tables display full data without forcing character-by-character breaks */
.table-wrap th,
.table-wrap td {
  white-space: normal;        /* allow wrapping at spaces */
  word-break: normal;         /* do not break inside words by default */
  overflow-wrap: break-word;  /* only break very long tokens when necessary */
  hyphens: auto;              /* optional hyphenation for supported locales */
}

/* Alternative mode: keep cells on a single line and rely on horizontal scroll */
.table-nowrap th,
.table-nowrap td {
  white-space: nowrap;
}

/* Helper to keep small cells compact when needed */
.nowrap { white-space: nowrap; }

/* =============================
   Responsive Modals (mobile-first)
   - Fullscreen on small screens; card-like on md+
============================= */
.modal-overlay { @apply fixed inset-0 bg-black/40 grid place-items-center; }

.modal-panel { 
  /* mobile: fullscreen */
  @apply w-screen h-[100dvh] max-h-[100dvh] overflow-auto bg-white rounded-none p-0 shadow-2xl;
}
.modal-panel-sm { /* alternative width used in some dialogs on desktop */ }

@screen md {
  .modal-panel { @apply w-[min(720px,96vw)] max-h-[90vh] rounded-2xl p-5; }
  .modal-panel-sm { @apply w-[min(600px,96vw)] max-h-[90vh] rounded-2xl p-5 bg-white overflow-auto shadow-2xl; }
}

/* Fallback: if a page didn't adopt .modal-panel yet but uses the common pattern,
   make it fill the screen on small devices to avoid broken layouts. */
@media (max-width: 767.98px) {
  .fixed.inset-0 > .bg-white.rounded-2xl {
    width: 100vw !important;
    height: 100dvh !important;
    max-height: 100dvh !important;
    border-radius: 0 !important;
    padding: 0 !important;
    overflow: auto !important;
  }
}

/* Helpers for sticky modal headers/footers inside .modal-panel */
.modal-header { @apply sticky top-0 z-10 bg-white border-b border-zinc-100 p-4; }
.modal-body   { @apply p-4 md:p-0; }
.modal-footer { @apply sticky bottom-0 z-10 bg-white border-t border-zinc-100 p-4; }
